<nav class="nav-header" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
  <ul id="menu-main-menu" class="menu genesis-nav-menu responsive-menu">

    {% for item in site.data.mainmenu %}
      {% assign cls = 'menu-item' %}
      {% if item.subitems != null %}{% capture cls %}{{ cls }} menu-item-has-children{% endcapture%}{% endif %}
      {% if page.menuitemid != null and page.menuitemid == item.id %}{% capture cls %}{{ cls }} current-menu-item{% endcapture%}{% endif %}
      <li class="{{ cls }}">
        {% if item.href == null %}
          {{ item.title }}
        {% else %}
          <a href="{{ item.href | prepend: site.baseurl }}">{{ item.title }}</a>
        {% endif %}
        {% if item.subitems != null %}
          <ul class="sub-menu">
          {% for subitem in item.subitems %}
            <li class="menu-item">
              <a href="{{ subitem.href | prepend: site.baseurl }}">{{ subitem.title }}</a>
            </li>
          {% endfor %}
          </ul>
        {% endif %}
      </li>
    {% endfor %}

  </ul>
</nav>
